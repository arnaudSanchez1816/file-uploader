{"version":3,"file":"signup.min.js","sources":["../../js/signup.js"],"sourcesContent":["function clearServerError(inputElement) {\n    const errorElement = document.querySelector(\n        `p[data-error='${inputElement.name}']`\n    )\n    if (errorElement) {\n        errorElement.remove()\n    }\n    inputElement.classList.remove(\"input-error\")\n}\n\nconst passwordConfirmation = (function () {\n    const passwordConfirmationInput = document.querySelector(\n        \"#signup-confirm-password\"\n    )\n    const passwordConfirmationHint = document.querySelector(\n        \"#signup-confirm-password+.validator-hint\"\n    )\n    const passwordInput = document.querySelector(\"#signup-password\")\n\n    const isValid = () => {\n        clearServerError(passwordConfirmationInput)\n        passwordConfirmationInput.setCustomValidity(\"\")\n        const confirmValue = passwordConfirmationInput.value\n        const passwordValue = passwordInput.value\n\n        if (confirmValue !== passwordValue) {\n            const message = passwordConfirmationHint.textContent\n            passwordConfirmationInput.setCustomValidity(message.trim())\n            return false\n        }\n\n        return true\n    }\n\n    passwordConfirmationInput.addEventListener(\n        \"input\",\n        () => clearServerError(passwordConfirmationInput),\n        { once: true }\n    )\n    passwordConfirmationInput.addEventListener(\n        \"invalid\",\n        () => clearServerError(passwordConfirmationInput),\n        { once: true }\n    )\n\n    passwordConfirmationInput.addEventListener(\"input\", () => {\n        isValid()\n    })\n\n    return { isValid }\n})()\n\nconst email = (function () {\n    const emailInput = document.querySelector(\"#signup-email\")\n\n    emailInput.addEventListener(\"input\", () => clearServerError(emailInput), {\n        once: true,\n    })\n    emailInput.addEventListener(\"invalid\", () => clearServerError(emailInput), {\n        once: true,\n    })\n\n    const isValid = () => {\n        return emailInput.validity.valid\n    }\n\n    return { isValid }\n})()\n\nconst password = (function () {\n    const passwordInput = document.querySelector(\"#signup-password\")\n\n    passwordInput.addEventListener(\n        \"input\",\n        () => clearServerError(passwordInput),\n        {\n            once: true,\n        }\n    )\n    passwordInput.addEventListener(\n        \"invalid\",\n        () => clearServerError(passwordInput),\n        {\n            once: true,\n        }\n    )\n\n    const isValid = () => {\n        return passwordInput.validity.valid\n    }\n\n    return { isValid }\n})()\n\nconst form = document.querySelector(\"form[action='/signup']\")\nform.addEventListener(\"submit\", (e) => {\n    if (!email.isValid()) {\n        e.preventDefault()\n        form.reportValidity()\n        return\n    }\n    if (!password.isValid()) {\n        e.preventDefault()\n        form.reportValidity()\n        return\n    }\n\n    if (!passwordConfirmation.isValid()) {\n        e.preventDefault()\n        form.reportValidity()\n        return\n    }\n})\n"],"names":["clearServerError","inputElement","errorElement","document","querySelector","name","remove","classList","passwordConfirmation","passwordConfirmationInput","passwordConfirmationHint","passwordInput","isValid","setCustomValidity","value","message","textContent","trim","addEventListener","once","email","emailInput","validity","valid","password","form","e","preventDefault","reportValidity"],"mappings":"AAAA,SAASA,EAAiBC,GACtB,MAAMC,EAAeC,SAASC,cAC1B,iBAAiBH,EAAaI,UAE9BH,GACAA,EAAaI,SAEjBL,EAAaM,UAAUD,OAAO,cAClC,CAEA,MAAME,EAAuB,WACzB,MAAMC,EAA4BN,SAASC,cACvC,4BAEEM,EAA2BP,SAASC,cACtC,4CAEEO,EAAgBR,SAASC,cAAc,oBAEvCQ,EAAU,KACZZ,EAAiBS,GACjBA,EAA0BI,kBAAkB,IAI5C,GAHqBJ,EAA0BK,QACzBH,EAAcG,MAEA,CAChC,MAAMC,EAAUL,EAAyBM,YAEzC,OADAP,EAA0BI,kBAAkBE,EAAQE,SAC7C,CACX,CAEA,OAAO,GAkBX,OAfAR,EAA0BS,iBACtB,QACA,IAAMlB,EAAiBS,GACvB,CAAEU,MAAM,IAEZV,EAA0BS,iBACtB,UACA,IAAMlB,EAAiBS,GACvB,CAAEU,MAAM,IAGZV,EAA0BS,iBAAiB,QAAS,KAChDN,MAGG,CAAEA,UACZ,CAxC4B,GA0CvBQ,EAAQ,WACV,MAAMC,EAAalB,SAASC,cAAc,iBAE1CiB,EAAWH,iBAAiB,QAAS,IAAMlB,EAAiBqB,GAAa,CACrEF,MAAM,IAEVE,EAAWH,iBAAiB,UAAW,IAAMlB,EAAiBqB,GAAa,CACvEF,MAAM,IAOV,MAAO,CAAEP,QAJO,IACLS,EAAWC,SAASC,MAIlC,CAfa,GAiBRC,EAAW,WACb,MAAMb,EAAgBR,SAASC,cAAc,oBAE7CO,EAAcO,iBACV,QACA,IAAMlB,EAAiBW,GACvB,CACIQ,MAAM,IAGdR,EAAcO,iBACV,UACA,IAAMlB,EAAiBW,GACvB,CACIQ,MAAM,IAQd,MAAO,CAAEP,QAJO,IACLD,EAAcW,SAASC,MAIrC,CAvBgB,GAyBXE,EAAOtB,SAASC,cAAc,0BACpCqB,EAAKP,iBAAiB,SAAWQ,GACxBN,EAAMR,WAKNY,EAASZ,WAMTJ,EAAqBI,eAA1B,GAVIc,EAAEC,sBACFF,EAAKG"}